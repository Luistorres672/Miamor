<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Un Ramo Para Ti</title>
    <!-- Importar la fuente Poppins desde Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap" rel="stylesheet">
    <style>
        /* Estilos generales y reseteo */
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }

        /* Variables de color para un fácil mantenimiento */
        :root {
            --color-bg: linear-gradient(to top, #1e3a8a, #0c0a09);
            --line-color: linear-gradient(to top, #22c55e, #15803d, #166534);
            --flower-center: radial-gradient(circle, #a16207, #854d0e);
            --leaf-color: radial-gradient(circle, #22c55e, #166534);
            --petal-color: radial-gradient(circle, #fef08a, #facc15, #eab308);
        }

        body {
            background-image: var(--color-bg);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            font-family: "Poppins", sans-serif;
        }
        
        /* Contenedor principal para centrar el contenido */
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            padding: 20px;
        }

        /* Mensaje inicial que se muestra antes de hacer clic */
        #initial-message {
            color: #f1f5f9;
            font-weight: 300;
            font-size: clamp(1rem, 4vw, 1.2rem);
            margin-bottom: 1.5rem;
            transition: opacity 0.5s ease-out;
            text-align: center;
        }

        /* Mensaje final que aparece en la parte superior */
        h1 {
            position: fixed; /* Posicionamiento relativo a la ventana */
            top: 50%; /* Centrado verticalmente */
            left: 2%; /* Espacio desde la izquierda */
            transform: translateY(-50%); /* Ajuste fino para centrado vertical */
            width: 90%;
            max-width: 300px; /* Ancho máximo para el texto */
            text-align: left;
            color: #FFD1DC; /* Color cambiado a rosa pastel */
            font-weight: 300;
            font-size: clamp(0.9rem, 2.5vw, 1rem); /* Tamaño de fuente ajustado */
            text-shadow: 0 0 10px rgba(255, 209, 220, 0.7); /* Sombra actualizada */
            z-index: 15;
            opacity: 0;
            transition: opacity 1.5s ease-in-out 3.5s;
            line-height: 1.7;
        }
        
        .container.active h1 {
            opacity: 1;
        }

        /* --- Estilos del Ramo --- */
        .bouquet {
            position: relative;
            height: 400px;
            width: 350px; /* Ancho aumentado para el nuevo ramo */
            animation: gentle-sway 7s ease-in-out infinite;
        }

        .sunflower {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform-origin: bottom center;
        }

        .sunflower--1 { /* Centro */
            transform: translateX(-50%) scale(1);
            z-index: 10;
            --base-delay: 0.4s;
        }
        .sunflower--2 { /* Izquierda */
            transform: translateX(-100%) rotate(-20deg) scale(0.9);
            z-index: 9;
            --base-delay: 0.2s;
        }
        .sunflower--3 { /* Derecha */
            transform: translateX(0%) rotate(20deg) scale(0.9);
            z-index: 8;
            --base-delay: 0.6s;
        }
        .sunflower--4 { /* Detrás Izquierda */
            transform: translateX(-70%) translateY(40px) rotate(-10deg) scale(0.8);
            z-index: 7;
            --base-delay: 0s;
        }
        .sunflower--5 { /* Detrás Derecha */
            transform: translateX(-30%) translateY(40px) rotate(10deg) scale(0.8);
            z-index: 6;
            --base-delay: 0.8s;
        }

        /* --- Estilos de la Flor --- */
        .flower_wrapper {
            position: relative;
            bottom: -380px;
            transform: scale(0.8);
            transition: transform 1s ease-out, bottom 1s ease-out;
        }
        
        .container.active .flower_wrapper {
            bottom: 20px;
            transition-delay: var(--base-delay);
        }

        .flower_stem {
            width: 20px;
            height: 400px;
            background-image: var(--line-color);
            border-radius: 20px;
            position: relative;
            z-index: 2;
        }

        .flower_center {
            position: absolute;
            top: -93px;
            left: 50%;
            transform: translateX(-50%) scale(0);
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: var(--flower-center);
            z-index: 5;
        }
        
        .container.active .flower_center {
            animation: open-flower-center 1s ease-out forwards;
            animation-delay: calc(var(--base-delay) + 1s);
        }

        .flower_petal {
            position: absolute;
            width: 70px;
            height: 140px;
            background: var(--petal-color);
            clip-path: ellipse(35% 50% at 50% 50%);
            top: -40%;
            left: 50%;
            transform-origin: center bottom;
            opacity: 0;
        }
        
        .container.active .flower_petal {
            animation: open-flower-petal 1s ease-out forwards;
        }

        .flower_petal-1 { --rotate-deg: 0deg; animation-delay: calc(var(--base-delay) + 1.2s); }
        .flower_petal-2 { --rotate-deg: 30deg; animation-delay: calc(var(--base-delay) + 1.25s); }
        .flower_petal-3 { --rotate-deg: 60deg; animation-delay: calc(var(--base-delay) + 1.3s); }
        .flower_petal-4 { --rotate-deg: 90deg; animation-delay: calc(var(--base-delay) + 1.35s); }
        .flower_petal-5 { --rotate-deg: 120deg; animation-delay: calc(var(--base-delay) + 1.4s); }
        .flower_petal-6 { --rotate-deg: 150deg; animation-delay: calc(var(--base-delay) + 1.45s); }
        .flower_petal-7 { --rotate-deg: 180deg; animation-delay: calc(var(--base-delay) + 1.5s); }
        .flower_petal-8 { --rotate-deg: 210deg; animation-delay: calc(var(--base-delay) + 1.55s); }
        .flower_petal-9 { --rotate-deg: 240deg; animation-delay: calc(var(--base-delay) + 1.6s); }
        .flower_petal-10 { --rotate-deg: 270deg; animation-delay: calc(var(--base-delay) + 1.65s); }
        .flower_petal-11 { --rotate-deg: 300deg; animation-delay: calc(var(--base-delay) + 1.7s); }
        .flower_petal-12 { --rotate-deg: 330deg; animation-delay: calc(var(--base-delay) + 1.75s); }

        .flower_leaf {
            position: absolute;
            width: 70px;
            height: 120px;
            background: var(--leaf-color);
            border-radius: 100px 20px 100px 20px;
            transform-origin: center bottom;
            z-index: 1;
        }

        .flower_leaf-1 { left: 60%; bottom: 150px; transform: translateX(-45%) rotate(80deg); }
        .flower_leaf-2 { left: 60%; bottom: 200px; transform: translateX(-55%) rotate(-80deg); }

        /* --- Estilos de las partículas de luz --- */
        .light {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #fef9c3;
            border-radius: 50%;
            filter: blur(4px);
            box-shadow: 0 0 15px 5px #fef9c3;
            z-index: -1;
            opacity: 0;
        }

        .container.active .light {
            animation: light-animation 7s linear infinite backwards;
        }

        .light-1 { left: 5%; animation-delay: 1s; }
        .light-2 { left: 15%; animation-delay: 0.5s; }
        .light-3 { left: 25%; animation-delay: 0.3s; }
        .light-4 { left: 35%; animation-delay: 2.9s; }
        .light-5 { left: 45%; animation-delay: 1.5s; }
        .light-6 { left: 55%; animation-delay: 3s; }
        .light-7 { left: 65%; animation-delay: 2s; }
        .light-8 { left: 75%; animation-delay: 3.5s; }
        .light-9 { left: 85%; animation-delay: 2.2s; }
        .light-10 { left: 95%; animation-delay: 4.5s; }

        /* --- Estilos de Fuegos Artificiales --- */
        #fireworks-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 99;
        }

        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            opacity: 0;
            animation: explode 1s ease-out forwards;
            box-shadow: 0 0 10px 2px currentColor;
        }

        /* --- Estilos de flores flotantes --- */
        #falling-flowers-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .falling-flower {
            position: absolute;
            top: -10%;
            width: 25px;
            height: 25px;
            background-color: rgba(250, 204, 21, 0.7);
            border-radius: 50% 10%;
            opacity: 0;
            animation: fall-and-rotate linear;
        }


        /* --- Botón de Interacción --- */
        .flower-btn {
            padding: 16px 35px;
            font-size: 18px;
            font-family: "Poppins", sans-serif;
            font-weight: 600;
            color: #1e293b;
            background: linear-gradient(45deg, #fde047, #facc15);
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(250, 204, 21, 0.4);
            transition: all 0.3s ease;
            position: relative;
            z-index: 10;
        }

        .flower-btn:hover { transform: translateY(-3px); box-shadow: 0 12px 30px rgba(250, 204, 21, 0.5); }
        .flower-btn:active { transform: translateY(0); box-shadow: 0 5px 15px rgba(250, 204, 21, 0.4); }

        /* --- Definiciones de Keyframes para Animaciones --- */
        @keyframes open-flower-petal {
            0% { transform: translateX(-50%) translateY(50px) rotate(0deg); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translateX(-50%) translateY(0) rotate(var(--rotate-deg)); opacity: 1; }
        }

        @keyframes open-flower-center {
            from { transform: translateX(-50%) scale(0); opacity: 0; }
            to { transform: translateX(-50%) scale(1); opacity: 1; }
        }

        @keyframes light-animation {
            0% { opacity: 0; transform: translateY(100vh); }
            20%, 80% { opacity: 1; }
            100% { opacity: 0; transform: translateY(-100vh) translateX(20px); }
        }
        
        @keyframes explode {
            0% { transform: translate(0, 0) scale(1); opacity: 1; }
            100% { transform: translate(var(--x), var(--y)) scale(0); opacity: 0; }
        }
        
        @keyframes fall-and-rotate {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(110vh) rotate(720deg); opacity: 0; }
        }

        @keyframes gentle-sway {
            0%, 100% { transform: rotate(-1.5deg); }
            50% { transform: rotate(1.5deg); }
        }

        @media (max-width: 600px) {
            .bouquet { transform: scale(0.8); }
        }
    </style>
</head>
<body>
    
    <audio id="song" src="Flores Amarillas - Floricienta - High Quality.mp3" loop></audio>
    <div id="falling-flowers-container"></div>

    <div class="container" id="main-container">
        <div id="fireworks-container"></div>
        <p id="initial-message">Tengo una sorpresa para ti...</p>
        <h1>Cada día que paso contigo me doy cuenta de que eres mi lugar favorito en el mundo. No importa lo que pase allá afuera, mientras estemos juntos, todo tiene sentido. Gracias por ser mi alegría, mi paz y mi aventura. Te amo más de lo que las palabras pueden decir, y hoy quería recordártelo de una forma especial: eres lo mejor que me ha pasado en la vida ❤️</h1>
        
        <div class="bouquet">
            <!-- Flores traseras para dar profundidad -->
            <div class="sunflower sunflower--4">
                <div class="flower_wrapper">
                    <div class="flower_stem"></div><div class="flower_center"></div>
                    <div class="flower_petal flower_petal-1"></div><div class="flower_petal flower_petal-2"></div><div class="flower_petal flower_petal-3"></div><div class="flower_petal flower_petal-4"></div><div class="flower_petal flower_petal-5"></div><div class="flower_petal flower_petal-6"></div><div class="flower_petal flower_petal-7"></div><div class="flower_petal flower_petal-8"></div><div class="flower_petal flower_petal-9"></div><div class="flower_petal flower_petal-10"></div><div class="flower_petal flower_petal-11"></div><div class="flower_petal flower_petal-12"></div>
                    <div class="flower_leaf flower_leaf-1"></div><div class="flower_leaf flower_leaf-2"></div>
                </div>
            </div>
            <div class="sunflower sunflower--5">
                <div class="flower_wrapper">
                    <div class="flower_stem"></div><div class="flower_center"></div>
                    <div class="flower_petal flower_petal-1"></div><div class="flower_petal flower_petal-2"></div><div class="flower_petal flower_petal-3"></div><div class="flower_petal flower_petal-4"></div><div class="flower_petal flower_petal-5"></div><div class="flower_petal flower_petal-6"></div><div class="flower_petal flower_petal-7"></div><div class="flower_petal flower_petal-8"></div><div class="flower_petal flower_petal-9"></div><div class="flower_petal flower_petal-10"></div><div class="flower_petal flower_petal-11"></div><div class="flower_petal flower_petal-12"></div>
                    <div class="flower_leaf flower_leaf-1"></div><div class="flower_leaf flower_leaf-2"></div>
                </div>
            </div>
            <!-- Flores principales -->
            <div class="sunflower sunflower--2">
                <div class="flower_wrapper">
                    <div class="flower_stem"></div><div class="flower_center"></div>
                    <div class="flower_petal flower_petal-1"></div><div class="flower_petal flower_petal-2"></div><div class="flower_petal flower_petal-3"></div><div class="flower_petal flower_petal-4"></div><div class="flower_petal flower_petal-5"></div><div class="flower_petal flower_petal-6"></div><div class="flower_petal flower_petal-7"></div><div class="flower_petal flower_petal-8"></div><div class="flower_petal flower_petal-9"></div><div class="flower_petal flower_petal-10"></div><div class="flower_petal flower_petal-11"></div><div class="flower_petal flower_petal-12"></div>
                    <div class="flower_leaf flower_leaf-1"></div><div class="flower_leaf flower_leaf-2"></div>
                </div>
            </div>
            <div class="sunflower sunflower--3">
                <div class="flower_wrapper">
                    <div class="flower_stem"></div><div class="flower_center"></div>
                    <div class="flower_petal flower_petal-1"></div><div class="flower_petal flower_petal-2"></div><div class="flower_petal flower_petal-3"></div><div class="flower_petal flower_petal-4"></div><div class="flower_petal flower_petal-5"></div><div class="flower_petal flower_petal-6"></div><div class="flower_petal flower_petal-7"></div><div class="flower_petal flower_petal-8"></div><div class="flower_petal flower_petal-9"></div><div class="flower_petal flower_petal-10"></div><div class="flower_petal flower_petal-11"></div><div class="flower_petal flower_petal-12"></div>
                    <div class="flower_leaf flower_leaf-1"></div><div class="flower_leaf flower_leaf-2"></div>
                </div>
            </div>
            <div class="sunflower sunflower--1">
                <div class="flower_wrapper">
                    <div class="flower_stem"></div><div class="flower_center"></div>
                    <div class="flower_petal flower_petal-1"></div><div class="flower_petal flower_petal-2"></div><div class="flower_petal flower_petal-3"></div><div class="flower_petal flower_petal-4"></div><div class="flower_petal flower_petal-5"></div><div class="flower_petal flower_petal-6"></div><div class="flower_petal flower_petal-7"></div><div class="flower_petal flower_petal-8"></div><div class="flower_petal flower_petal-9"></div><div class="flower_petal flower_petal-10"></div><div class="flower_petal flower_petal-11"></div><div class="flower_petal flower_petal-12"></div>
                    <div class="flower_leaf flower_leaf-1"></div><div class="flower_leaf flower_leaf-2"></div>
                </div>
            </div>
        </div>

        <div class="light light-1"></div><div class="light light-2"></div><div class="light light-3"></div><div class="light light-4"></div><div class="light light-5"></div><div class="light light-6"></div><div class="light light-7"></div><div class="light light-8"></div><div class="light light-9"></div><div class="light light-10"></div>
        
        <button class="flower-btn" id="flower-btn">Para Ti</button>
    </div>

    <script>
        const flowerBtn = document.getElementById("flower-btn");
        const mainContainer = document.getElementById("main-container");
        const audio = document.getElementById("song");
        const initialMessage = document.getElementById("initial-message");

        const pastelPink = '#FFD1DC';
        const pastelBlue = '#AEC6CF';

        // --- Función para crear fuegos artificiales de un solo color ---
        function createFirework(color) {
            const fireworksContainer = document.getElementById('fireworks-container');
            const numParticles = 50;

            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight * 0.7;

            for (let i = 0; i < numParticles; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                particle.style.left = `${x}px`;
                particle.style.top = `${y}px`;
                particle.style.backgroundColor = color; // Asigna el color pasado como argumento
                particle.style.color = color; // Para que el box-shadow use este color

                const angle = Math.random() * Math.PI * 2;
                const distance = Math.random() * 150 + 50;
                const endX = Math.cos(angle) * distance;
                const endY = Math.sin(angle) * distance;

                particle.style.setProperty('--x', `${endX}px`);
                particle.style.setProperty('--y', `${endY}px`);
                particle.style.animationDuration = `${Math.random() * 0.5 + 0.8}s`;

                fireworksContainer.appendChild(particle);

                setTimeout(() => {
                    particle.remove();
                }, 1300);
            }
        }

        // --- Función para crear flores flotantes ---
        function createFallingFlower() {
            const container = document.getElementById('falling-flowers-container');
            const flower = document.createElement('div');
            flower.classList.add('falling-flower');

            flower.style.left = `${Math.random() * 100}vw`;
            const duration = Math.random() * 5 + 7; // Duración entre 7 y 12 segundos
            flower.style.animationDuration = `${duration}s`;
            
            container.appendChild(flower);

            setTimeout(() => {
                flower.remove();
            }, duration * 1000);
        }


        flowerBtn.addEventListener('click', () => {
            mainContainer.classList.add("active");

            audio.play().catch(error => {
                console.error("La reproducción de audio fue bloqueada por el navegador:", error);
            });
            audio.volume = 0.5;

            initialMessage.style.transition = 'opacity 0.5s ease-out';
            initialMessage.style.opacity = '0';
            
            flowerBtn.style.transition = 'opacity 0.5s ease-out, transform 0.5s ease-out';
            flowerBtn.style.opacity = '0';
            flowerBtn.style.transform = 'scale(0.8)';
            
            setTimeout(() => {
                initialMessage.style.display = 'none';
                flowerBtn.style.display = 'none';
            }, 500);

            // Inicia las animaciones de fondo después de un retraso
            setTimeout(() => {
                // Lanza los fuegos artificiales repetidamente
                setInterval(() => {
                    createFirework(pastelPink);
                    setTimeout(() => createFirework(pastelBlue), 500);
                }, 1000);

                // Lanza las flores flotantes repetidamente
                setInterval(createFallingFlower, 700);
            }, 2000);
        });
    </script>
</body>
</html>

